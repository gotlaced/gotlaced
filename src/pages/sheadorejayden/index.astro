<!DOCTYPE html>

<html>
<head>
<meta charset="utf-8"/>
<title>Jayden</title>
<link href="https://i.pinimg.com/736x/9a/fc/08/9afc087acefb209854082660833d03a8.jpg" rel="icon" type="image/png"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<style>
/* ... your existing styles here ... */
body {
margin: 0;
padding: 0;
width: 100vw;
height: 100vh;
font-family: sans-serif;
background: black;
overflow: hidden;
 display: flex;
justify-content: center;
align-items: center;
color: white;
}
/* other styles unchanged... */
.view-count {
  position: absolute;
  bottom: 15px;
  left: 20px;
  display: flex;
  align-items: center;
  color: #ccc;
  font-size: 1rem;
  opacity: 0.8;
  z-index: 2;
}
.eye-icon {
  width: 18px;
  height: 18px;
  margin-right: 6px;
  filter: invert(1);
}
/* rest of your styles unchanged... */
</style>
<script>
    function toggleMute() {
      const video = document.getElementById("video-bg");
      video.muted = !video.muted;
      document.getElementById("muteBtn").textContent = video.muted ? "Unmute" : "Mute";
    }
    window.startExperience = function () {
      document.getElementById("intro-screen").style.display = "none";
      document.getElementById("video-bg").style.display = "block";
      document.querySelector(".overlay-content").style.display = "block";
      document.getElementById("muteBtn").style.display = "block";
      const video = document.getElementById("video-bg");
      video.muted = false;
      video.volume = 0.08;
      video.play();
    }
    function toggleTheme() {
      const body = document.body;
      const video = document.getElementById("video-bg");
      const source = document.getElementById("video-source");
      body.classList.toggle("hello-kitty");
      if (body.classList.contains("hello-kitty")) {
        source.setAttribute(
          "src",
          "https://pub-71e6b2b655254887bd73d223444eff54.r2.dev/hellokittyvideo.mp4"
        );
      } else {
        source.setAttribute(
          "src",
          "https://pub-ce6fdb0e40cb4768bcd4d886b207dbc4.r2.dev/anime%20edit.mp4"
        );
      }
      video.load();
      video.play();
    }
    document.addEventListener("contextmenu", (e) => e.preventDefault());
    document.addEventListener("keydown", (e) => {
      if (
        ["F12", "I", "C", "J", "U"].includes(e.key.toUpperCase()) &&
        (e.ctrlKey || e.metaKey || e.shiftKey)
      ) {
        e.preventDefault();
      }
    });
    const userId = "365890906836041741";
    

document.addEventListener("DOMContentLoaded", () => {
  const intro = document.getElementById("intro-screen");
  if (intro) {
    intro.addEventListener("click", function (e) {
      if (e.target === intro) {
        startExperience();
      }
    });
  }
});
</script>
<style>
/* Your repeated styles here (optional, keep only once) */
</style></head>
<body>
<div id="intro-screen" style="
    position: fixed;
    inset: 0;
    background: black;
    color: white;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 10000;
    
  ">
<p style="font-size: 2rem; color: white; pointer-events: none;">click to enter...</p>
</div>
<button class="theme-toggle">Girly Theme:3</button>
<video autoplay="" id="video-bg" loop="" muted="" playsinline="" style="
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -1;
      display: none;
    ">
<source id="video-source" src="https://pub-ce6fdb0e40cb4768bcd4d886b207dbc4.r2.dev/anime%20edit.mp4" type="video/mp4"/>
    Your browser does not support HTML5 video.
  </video>
<button class="mute-btn" id="muteBtn">Mute</button>
<div class="overlay-content">
<h1>𝓙𝓪𝔂𝓭𝓮𝓷</h1>
<p>七転び八起き</p>

<!-- Replaced Lanyard embed section -->
<div class="lanyard-status" style="margin-top: 20px; text-align: center;">
  <a href="https://discord.com/users/365890906836041741" target="_blank">
    <img
      src="https://lanyard.cnrad.dev/api/365890906836041741?theme=dark&borderRadius=30px&animated=true&showDisplayName=true"
      alt="Jayden's Discord Presence"
      style="max-width: 300px; border-radius: 15px; box-shadow: 0 0 15px #5f5f5f;"
    />
  </a>
</div>

<div id="view-counter" style="margin-top: 10px; color: #ccc; font-size: 1rem;"></div>

<div class="view-count">
  <img src="https://cdn-icons-png.flaticon.com/512/709/709612.png" alt="View Count" class="eye-icon" />
  <span id="view-number">...</span>
</div>

<div class="links" style="display: flex; justify-content: center; gap: 20px; margin-top: 30px;">
<a href="https://www.instagram.com/sheadorejayden/" style="display: inline-flex; align-items: center; justify-content: center;" target="_blank"><img alt="Instagram" height="32" src="https://cdn-icons-png.flaticon.com/512/174/174855.png" width="32"/></a>
<a href="https://discordapp.com/users/365890906836041741" style="display: inline-flex; align-items: center; justify-content: center;" target="_blank"><img alt="Discord" height="32" src="https://cdn-icons-png.flaticon.com/512/2111/2111370.png" width="32"/></a>
</div>
</div>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'967dc4ba0e75de9a',t:'MTc1Mzk3MTk2Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const intro = document.getElementById("intro-screen");
  const muteBtn = document.getElementById("muteBtn");
  const themeBtn = document.querySelector(".theme-toggle");

  if (intro) {
    intro.addEventListener("click", (e) => {
      if (e.target === intro) {
        startExperience();
      }
    });
  }

  if (muteBtn) {
    muteBtn.addEventListener("click", () => {
      const video = document.getElementById("video-bg");
      video.muted = !video.muted;
      muteBtn.textContent = video.muted ? "Unmute" : "Mute";
    });
  }

  if (themeBtn) {
    themeBtn.addEventListener("click", () => {
      const body = document.body;
      const video = document.getElementById("video-bg");
      const source = document.getElementById("video-source");

      body.classList.toggle("hello-kitty");
      if (body.classList.contains("hello-kitty")) {
        source.src = "https://pub-71e6b2b655254887bd73d223444eff54.r2.dev/hellokittyvideo.mp4";
      } else {
        source.src = "https://pub-ce6fdb0e40cb4768bcd4d886b207dbc4.r2.dev/anime%20edit.mp4";
      }
      video.load();
      video.play();
    });
  }
});

// View count script with refresh fix using localStorage
async function updateViewCount(increment) {
  try {
    const url = increment ? "/api/views" : "/api/views?increment=false";
    const response = await fetch(url);
    const data = await response.json();
    const countEl = document.getElementById("view-number");
    countEl.textContent = data.views.toLocaleString();
  } catch (error) {
    console.error("Failed to fetch views:", error);
    document.getElementById("view-number").textContent = "N/A";
  }
}

document.addEventListener("DOMContentLoaded", () => {
  // If user hasn't counted yet, increment and set flag
  if (!localStorage.getItem("hasCounted")) {
    updateViewCount(true);
    localStorage.setItem("hasCounted", "true");
  } else {
    // Otherwise, just fetch current count without increment
    updateViewCount(false);
  }
});
</script>

</body>
</html>
